---
import Button from "@/components/button.astro";
import Main from "@/layouts/main.astro";
import "@/styles/global.css";
---

<Main>
	<div class="grid place-items-center h-screen content-center">
		<Button>Tailwind Button in Astro!</Button>
		<p id="health-check">Health Check: loading...</p>
		<p id="user">User: loading...</p>
	</div>
</Main>

<script>
	import { client } from "@/lib/orpc";

	const healthCheck = document.getElementById("health-check")!;
	client.healthCheck().then((response) => {
		healthCheck.textContent = `Health Check: ${response}`;
	});

	const user = document.getElementById("user")!;
	client
		.privateData()
		.then((response) => {
			user.textContent = `User: ${response.user.name}`;
		})
		.catch((error) => {
			user.textContent = `User: ${error}`;
		});
</script>
